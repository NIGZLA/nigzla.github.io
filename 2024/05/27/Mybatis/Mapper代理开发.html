<hr>
<h2 id="title-Mapper代理开发date-2024-05-29-20-11-40tags-Mybatiscategories-编程keywords-“Mapper代理开发”updated-type-comments-description-top-img-mathjax-katex-aside-aplayer-highlight-shrink-random-cover-https-www-mulei-ltd-wp-content-uploads-2021-07-cover-mybatis-png"><a href="#title-Mapper代理开发date-2024-05-29-20-11-40tags-Mybatiscategories-编程keywords-“Mapper代理开发”updated-type-comments-description-top-img-mathjax-katex-aside-aplayer-highlight-shrink-random-cover-https-www-mulei-ltd-wp-content-uploads-2021-07-cover-mybatis-png" class="headerlink" title="title: Mapper代理开发date: 2024-05-29 20:11:40tags:  - Mybatiscategories:  - 编程keywords: “Mapper代理开发”updated:type:comments:description:top_img:mathjax:katex:aside:aplayer:highlight_shrink:random:cover: https://www.mulei.ltd/wp-content/uploads/2021/07/cover-mybatis.png"></a>title: Mapper代理开发<br>date: 2024-05-29 20:11:40<br>tags:<br>  - Mybatis<br>categories:<br>  - 编程<br>keywords: “Mapper代理开发”<br>updated:<br>type:<br>comments:<br>description:<br>top_img:<br>mathjax:<br>katex:<br>aside:<br>aplayer:<br>highlight_shrink:<br>random:<br>cover: <a href="https://www.mulei.ltd/wp-content/uploads/2021/07/cover-mybatis.png">https://www.mulei.ltd/wp-content/uploads/2021/07/cover-mybatis.png</a></h2><h1 id="Mapper代理开发"><a href="#Mapper代理开发" class="headerlink" title="Mapper代理开发"></a>Mapper代理开发</h1><p>在Mybatis原生代码中，原生代码还是存在一些硬编码，使用Mapper代理开发可简化后期执行SQL。</p>
<p>​	所以通过使用Mapper代理开发，会更加方便</p>
<p><img src="https://nigzla.github.io//blog/2024/05/27/Mybatis/image-20240329105537803.png" alt="image-20240329105537803"></p>
<h1 id="使用Mapper代理开发流程"><a href="#使用Mapper代理开发流程" class="headerlink" title="使用Mapper代理开发流程"></a>使用Mapper代理开发流程</h1><ol>
<li><h3 id="定义与SQL映射文件同名的Mapper接口，将Mapper接口和SQL映射文件位置放在同一目录下"><a href="#定义与SQL映射文件同名的Mapper接口，将Mapper接口和SQL映射文件位置放在同一目录下" class="headerlink" title="定义与SQL映射文件同名的Mapper接口，将Mapper接口和SQL映射文件位置放在同一目录下"></a>定义与SQL映射文件同名的Mapper接口，将Mapper接口和SQL映射文件位置放在同一目录下</h3><ul>
<li>在<code>resources</code>下创建与<code>java</code>目录下<code>com.xxx.mapper</code>一致</li>
<li><code>resources</code>下创建时为<code>com/xxx/mapper</code></li>
<li><img src="https://nigzla.github.io//blog/2024/05/27/Mybatis/image-20240329113449014.png" alt="image-20240329113449014"></li>
</ul>
</li>
<li><h3 id="设置SQL映射文件的namespace属性为Mapper接口全限定名"><a href="#设置SQL映射文件的namespace属性为Mapper接口全限定名" class="headerlink" title="设置SQL映射文件的namespace属性为Mapper接口全限定名"></a>设置SQL映射文件的namespace属性为Mapper接口全限定名</h3><p><img src="https://nigzla.github.io//blog/2024/05/27/Mybatis/image-20240329113827938.png" alt="image-20240329113827938"></p>
<p><img src="https://nigzla.github.io//blog/2024/05/27/Mybatis/image-20240329114012968.png" alt="image-20240329114012968"></p>
<ul>
<li>这边推荐IDE中MybatisX插件 可用来快速跳转和探究是否已映射上</li>
</ul>
</li>
<li><h3 id="在Maooer接口中定义方法，方法名为SQL映射文件中sql语句的ID，并保持参数类型和返回值一致"><a href="#在Maooer接口中定义方法，方法名为SQL映射文件中sql语句的ID，并保持参数类型和返回值一致" class="headerlink" title="在Maooer接口中定义方法，方法名为SQL映射文件中sql语句的ID，并保持参数类型和返回值一致"></a>在Maooer接口中定义方法，方法名为SQL映射文件中sql语句的ID，并保持参数类型和返回值一致</h3><ul>
<li><p>在Mapper接口中需要创建与SQLID同名的方法<img src="https://nigzla.github.io//blog/2024/05/27/Mybatis/image-20240329125042549.png" alt="image-20240329125042549"></p>
<ul>
<li><h5 id="获取userMapper接口的代理对象"><a href="#获取userMapper接口的代理对象" class="headerlink" title="获取userMapper接口的代理对象"></a>获取userMapper接口的代理对象<img src="https://nigzla.github.io//blog/2024/05/27/Mybatis/image-20240329130823652.png" alt="image-20240329130823652"></h5></li>
</ul>
</li>
</ul>
<pre><code class="JAVA">    public class MybatisDemo2 {
        public static void main(String[] args) throws IOException {
    //        1.加载mybatis核心配置文件，获取SqlSessionFactory Mybatis官方网站有
            String resource = &quot;mybatis-config.xml&quot;;//mybatis相对路径
            //获取inputStream通过Resources对象（资源加载类）getResourceAsStream(resource)将字符串传进来 返回一个字节输入流
            InputStream inputStream = Resources.getResourceAsStream(resource);
            //通过SqlSessionFactoryBuilder()对象的build()方法将流传进来返回SqlSessionFactory对象
            SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);
    
    //        2.获取SqlSessionFactory对象 执行sql语句
            SqlSession session = sqlSessionFactory.openSession();
    
    //        3.获取userMapper接口的代理对象
            //session.getMapper(UserMapper.class);
            UserMapper userMapper = session.getMapper(UserMapper.class);
            List&lt;User&gt; userList = userMapper.selectAll();
            System.out.println(userList);
    
    //        4.释放资源
            session.close();
    
        }
    }
    ```
 - ##### 注意 `mybatis-config.xml`中的映射路径 所以这种方式在后期Mapper文件多了之后会极其繁琐(UserMapper,OrderMapper,PhoneMapper)随着业务的增加![image-20240329125158523](https://nigzla.github.io//blog/2024/05/27/Mybatis/image-20240329125158523.png)

 - ##### 所以后期多采用包扫描方式来进行扫描映射 所有Mapper映射都在/mapper文件夹下![image-20240329130615459](https://nigzla.github.io//blog/2024/05/27/Mybatis/image-20240329130615459.png)
</code></pre>
</li>
</ol>
